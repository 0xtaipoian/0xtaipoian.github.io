<!DOCTYPE html><html lang="en-US"><head><meta charSet="utf-8"/><meta content="width=device-width,user-scalable=no,initial-scale=1.0,maximum-scale=1.0" name="viewport"/><meta content="yes" name="apple-mobile-web-app-capable"/><meta content="black" name="apple-mobile-web-app-status-bar-style"/><meta content="true" name="HandheldFriendly"/><meta content="en" http-equiv="Content-Language"/><link href="/icons/icon-512x512.png" rel="apple-touch-icon"/><link href="/icons/icon-128x128.png" rel="apple-touch-icon-precomposed"/><link href="/icons/icon-512x512.png" rel="shortcut icon" sizes="512x512"/><link href="/icons/icon-196x196.png" rel="shortcut icon" sizes="196x196"/><link href="/icons/icon-192x192.png" rel="shortcut icon" sizes="192x192"/><link href="/icons/icon-128x128.png" rel="shortcut icon" sizes="128x128"/><link href="/icons/icon-96x96.png" rel="shortcut icon" sizes="96x96"/><link href="/icons/icon-32x32.png" rel="shortcut icon" sizes="32x32"/><link href="/icons/icon-32x32.png" rel="icon" type="image/png"/><link href="https://fonts.gstatic.com" rel="preconnect"/><link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300;400;600;700&amp;display=swap" rel="stylesheet"/><meta content="#000" name="theme-color"/><link href="/feed.xml" rel="alternate" type="application/rss+xml"/><meta content="I am Pager, an anon developer, and this is my little personal blog." name="description"/><meta content="/icons/icon-512x512.png" property="og:image"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-VGWXB3NBPG"></script><script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-VGWXB3NBPG');
        </script><title>Flashbots | Pager Universe</title><meta content="/assets/blog/flashbots/cover.jpg" property="og:image"/><meta name="next-head-count" content="25"/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/webpack-3d326053310467f9a574.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework-94705af3f56ccfd00c7a.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons-7926473249f72b2d2cf7.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-9d9b9d760c6e8f989bf0.js" as="script"/><link rel="preload" href="/_next/static/chunks/338-de0a2be82b2af832d734.js" as="script"/><link rel="preload" href="/_next/static/chunks/542-27d53b0c61d2050aeda9.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-da950a91ffaa1b8ae64f.js" as="script"/><link rel="preload" href="/_next/static/chunks/72-bd07f77745489b9e1547.js" as="script"/><link rel="preload" href="/_next/static/chunks/709-56dce8f57f3b622b83f8.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/posts/%5Bslug%5D-b120db3e4af8eb84f037.js" as="script"/><style data-styled="" data-styled-version="5.2.3">html{line-height:1.15;-webkit-text-size-adjust:100%;}/*!sc*/
body{margin:0;}/*!sc*/
main{display:block;}/*!sc*/
h1{font-size:2em;margin:0.67em 0;}/*!sc*/
hr{box-sizing:content-box;height:0;overflow:visible;}/*!sc*/
pre{font-family:monospace,monospace;font-size:1em;}/*!sc*/
a{background-color:transparent;}/*!sc*/
abbr[title]{border-bottom:none;-webkit-text-decoration:underline;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;}/*!sc*/
b,strong{font-weight:bolder;}/*!sc*/
code,kbd,samp{font-family:monospace,monospace;font-size:1em;}/*!sc*/
small{font-size:80%;}/*!sc*/
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}/*!sc*/
sub{bottom:-0.25em;}/*!sc*/
sup{top:-0.5em;}/*!sc*/
img{border-style:none;}/*!sc*/
button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;}/*!sc*/
button,input{overflow:visible;}/*!sc*/
button,select{text-transform:none;}/*!sc*/
button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button;}/*!sc*/
button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0;}/*!sc*/
button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText;}/*!sc*/
fieldset{padding:0.35em 0.75em 0.625em;}/*!sc*/
legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}/*!sc*/
progress{vertical-align:baseline;}/*!sc*/
textarea{overflow:auto;}/*!sc*/
[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;}/*!sc*/
[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto;}/*!sc*/
[type="search"]{-webkit-appearance:textfield;outline-offset:-2px;}/*!sc*/
[type="search"]::-webkit-search-decoration{-webkit-appearance:none;}/*!sc*/
::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}/*!sc*/
details{display:block;}/*!sc*/
summary{display:list-item;}/*!sc*/
template{display:none;}/*!sc*/
[hidden]{display:none;}/*!sc*/
button,html,input,select,textarea{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,Helvetica,Arial,Apple Color Emoji,Segoe UI Emoji;font-size:1.125rem;}/*!sc*/
input,button{outline:none;}/*!sc*/
*,*:before,*:after{box-sizing:inherit;text-rendering:geometricPrecision;-webkit-tap-highlight-color:transparent;}/*!sc*/
a{color:#000;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
a:hover{color:#ff5446!important;}/*!sc*/
body,html{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,Helvetica,Arial,Apple Color Emoji,Segoe UI Emoji;margin:0;line-height:1.15;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-text-size-adjust:100%;text-size-adjust:100%;}/*!sc*/
data-styled.g2[id="sc-global-cjhcOz1"]{content:"sc-global-cjhcOz1,"}/*!sc*/
.bKFgah{box-sizing:border-box;margin:0;min-width:0;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin-bottom:16px;margin-left:auto;margin-right:auto;padding:16px;}/*!sc*/
.dMewZf{box-sizing:border-box;margin:0;min-width:0;font-size:24px;font-family:inherit;font-weight:700;line-height:1.25;font-family:inherit;line-height:1.25;font-weight:700;font-size:24px;-webkit-letter-spacing:-0.05em;-moz-letter-spacing:-0.05em;-ms-letter-spacing:-0.05em;letter-spacing:-0.05em;margin-bottom:32px;margin-top:16px;text-align:center;}/*!sc*/
@media screen and (min-width:40em){.dMewZf{font-size:32px;margin-bottom:32px;margin-top:32px;text-align:left;}}/*!sc*/
@media screen and (min-width:52em){.dMewZf{font-size:32px;margin-bottom:64px;margin-top:32px;text-align:left;}}/*!sc*/
.exIvsQ{box-sizing:border-box;margin:0;min-width:0;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}/*!sc*/
@media screen and (min-width:40em){.exIvsQ{-webkit-box-pack:left;-webkit-justify-content:left;-ms-flex-pack:left;justify-content:left;}}/*!sc*/
@media screen and (min-width:52em){.exIvsQ{-webkit-box-pack:left;-webkit-justify-content:left;-ms-flex-pack:left;justify-content:left;}}/*!sc*/
.itMAzf{box-sizing:border-box;margin:0;min-width:0;}/*!sc*/
.iLjqJK{box-sizing:border-box;margin:0;min-width:0;max-width:100%;height:auto;border-radius:99999px;vertical-align:top;height:3rem;width:3rem;}/*!sc*/
@media screen and (min-width:40em){.iLjqJK{height:4rem;width:4rem;}}/*!sc*/
.fLeyUi{box-sizing:border-box;margin:0;min-width:0;font-size:20px;margin-left:8px;}/*!sc*/
@media screen and (min-width:40em){.fLeyUi{font-size:32px;margin-left:16px;}}/*!sc*/
@media screen and (min-width:52em){.fLeyUi{margin-left:16px;}}/*!sc*/
.kftzhr{box-sizing:border-box;margin:0;min-width:0;margin-bottom:32px;}/*!sc*/
.hKmdYz{box-sizing:border-box;margin:0;min-width:0;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}/*!sc*/
.jMGUvp{box-sizing:border-box;margin:0;min-width:0;font-size:24px;font-family:inherit;font-weight:700;line-height:1.25;font-family:inherit;line-height:1.25;font-weight:700;font-size:48px;-webkit-letter-spacing:-0.05em;-moz-letter-spacing:-0.05em;-ms-letter-spacing:-0.05em;letter-spacing:-0.05em;text-align:center;margin-bottom:32px;}/*!sc*/
@media screen and (min-width:40em){.jMGUvp{font-size:64px;text-align:left;}}/*!sc*/
@media screen and (min-width:52em){.jMGUvp{font-size:96px;text-align:left;}}/*!sc*/
.kVIEZd{box-sizing:border-box;margin:0;min-width:0;display:none;margin-bottom:32px;}/*!sc*/
@media screen and (min-width:40em){.kVIEZd{display:block;}}/*!sc*/
@media screen and (min-width:52em){.kVIEZd{display:block;}}/*!sc*/
.fcsecB{box-sizing:border-box;margin:0;min-width:0;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:left;-webkit-justify-content:left;-ms-flex-pack:left;justify-content:left;margin-bottom:16px;}/*!sc*/
.bbrtek{box-sizing:border-box;margin:0;min-width:0;max-width:100%;height:auto;border-radius:99999px;vertical-align:top;height:3rem;width:3rem;}/*!sc*/
.gFWHKt{box-sizing:border-box;margin:0;min-width:0;font-size:20px;margin-left:8px;}/*!sc*/
@media screen and (min-width:40em){.gFWHKt{margin-left:16px;}}/*!sc*/
@media screen and (min-width:52em){.gFWHKt{margin-left:16px;}}/*!sc*/
.kqjcxc{box-sizing:border-box;margin:0;min-width:0;margin-bottom:32px;}/*!sc*/
@media screen and (min-width:40em){.kqjcxc{margin-bottom:64px;}}/*!sc*/
@media screen and (min-width:52em){.kqjcxc{margin-bottom:64px;}}/*!sc*/
.eEokYr{box-sizing:border-box;margin:0;min-width:0;-webkit-transition:box-shadow 300ms ease-out;transition:box-shadow 300ms ease-out;}/*!sc*/
.eEokYr:hover{box-shadow:4px 4px 12px rgba(0,0,0,.07);}/*!sc*/
.bvkABS{box-sizing:border-box;margin:0;min-width:0;box-sizing:border-box;position:relative;overflow:hidden;margin:0px;}/*!sc*/
.enuiBt{box-sizing:border-box;margin:0;min-width:0;padding-top:50%;}/*!sc*/
.elOQWX{box-sizing:border-box;margin:0;min-width:0;max-width:100%;height:auto;position:absolute;top:0;left:0;padding:0;border:none;box-sizing:border-box;margin:auto;object-fit:cover;height:0px;max-height:100%;max-width:100%;min-height:100%;min-width:100%;width:0px;}/*!sc*/
.jbbtfg{box-sizing:border-box;margin:0;min-width:0;display:block;margin-bottom:16px;}/*!sc*/
@media screen and (min-width:40em){.jbbtfg{display:none;}}/*!sc*/
@media screen and (min-width:52em){.jbbtfg{display:none;}}/*!sc*/
.jOZVJk{box-sizing:border-box;margin:0;min-width:0;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}/*!sc*/
.hUwzQQ{box-sizing:border-box;margin:0;min-width:0;border-radius:99999px;color:white;background-color:rgba(0,0,0,1);font-size:14px;margin-bottom:8px;margin-right:8px;padding-left:16px;padding-right:16px;padding-top:4px;padding-bottom:4px;width:auto;}/*!sc*/
@media screen and (min-width:40em){.hUwzQQ{font-size:16px;margin-bottom:16px;margin-right:16px;}}/*!sc*/
@media screen and (min-width:52em){.hUwzQQ{font-size:16px;margin-bottom:16px;margin-right:16px;}}/*!sc*/
.kZtSQN{box-sizing:border-box;margin:0;min-width:0;border-top:1px solid #efefef;background-color:#fcfcfc;}/*!sc*/
.dJxAso{box-sizing:border-box;margin:0;min-width:0;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding-top:64px;padding-bottom:64px;}/*!sc*/
@media screen and (min-width:40em){.dJxAso{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}}/*!sc*/
@media screen and (min-width:52em){.dJxAso{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}}/*!sc*/
.dIgqbC{box-sizing:border-box;margin:0;min-width:0;width:100%;}/*!sc*/
@media screen and (min-width:40em){.dIgqbC{width:50%;}}/*!sc*/
@media screen and (min-width:52em){.dIgqbC{width:50%;}}/*!sc*/
@media screen and (min-width:64em){.dIgqbC{width:66.66666666666666%;}}/*!sc*/
.ffJsvT{box-sizing:border-box;margin:0;min-width:0;font-size:24px;font-family:inherit;font-weight:700;line-height:1.25;font-family:inherit;line-height:1.25;font-weight:700;font-size:20px;line-height:1.25;margin-bottom:32px;padding-right:0;text-align:left;}/*!sc*/
@media screen and (min-width:40em){.ffJsvT{font-size:24px;padding-right:16px;}}/*!sc*/
@media screen and (min-width:52em){.ffJsvT{padding-right:16px;}}/*!sc*/
.NWlvr{box-sizing:border-box;margin:0;min-width:0;color:#ff5446;}/*!sc*/
.boPTLD{box-sizing:border-box;margin:0;min-width:0;padding-left:0;text-align:center;width:100%;}/*!sc*/
@media screen and (min-width:40em){.boPTLD{padding-left:16px;width:50%;}}/*!sc*/
@media screen and (min-width:52em){.boPTLD{padding-left:16px;width:50%;}}/*!sc*/
@media screen and (min-width:64em){.boPTLD{width:33.33333333333333%;}}/*!sc*/
.bgYZas{box-sizing:border-box;margin:0;min-width:0;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}/*!sc*/
.ghjjju{box-sizing:border-box;margin:0;min-width:0;padding:8px;width:calc(100% - 128px);}/*!sc*/
.fBkHHd{box-sizing:border-box;margin:0;min-width:0;display:block;width:100%;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:inherit;line-height:inherit;border:1px solid;border-radius:4px;color:inherit;background-color:transparent;}/*!sc*/
.gffpdb{box-sizing:border-box;margin:0;min-width:0;padding:8px;width:128px;}/*!sc*/
.gnbXid{box-sizing:border-box;margin:0;min-width:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:inline-block;text-align:center;line-height:inherit;-webkit-text-decoration:none;text-decoration:none;font-size:inherit;padding-left:16px;padding-right:16px;padding-top:8px;padding-bottom:8px;color:white;background-color:#ff5446;border:0;border-radius:4px;font-size:16px;font-weight:700;color:#fff;background-color:#000;border-radius:4px;height:38px;width:100%;}/*!sc*/
data-styled.g3[id="sc-bdvvaa"]{content:"bKFgah,dMewZf,exIvsQ,itMAzf,iLjqJK,fLeyUi,kftzhr,hKmdYz,jMGUvp,kVIEZd,fcsecB,bbrtek,gFWHKt,kqjcxc,eEokYr,bvkABS,enuiBt,elOQWX,jbbtfg,jOZVJk,hUwzQQ,kZtSQN,dJxAso,dIgqbC,ffJsvT,NWlvr,boPTLD,bgYZas,ghjjju,fBkHHd,gffpdb,gnbXid,"}/*!sc*/
.jXLjZO{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/
data-styled.g4[id="sc-gsDJrp"]{content:"jXLjZO,"}/*!sc*/
@media screen and (min-width:640px){.lfQcyx{max-width:640px;}}/*!sc*/
@media screen and (min-width:768px){.lfQcyx{max-width:768px;}}/*!sc*/
@media screen and (min-width:1024px){.lfQcyx{max-width:1024px;}}/*!sc*/
@media screen and (min-width:1280px){.lfQcyx{max-width:1280px;}}/*!sc*/
@media screen and (min-width:1536px){.lfQcyx{max-width:1536px;}}/*!sc*/
data-styled.g5[id="sc-1oq80a-0"]{content:"lfQcyx,"}/*!sc*/
.cuLlVI{display:inline-block;vertical-align:middle;overflow:hidden;}/*!sc*/
data-styled.g6[id="StyledIconBase-ea9ulj-0"]{content:"cuLlVI,"}/*!sc*/
.kWRbNP{list-style:none;padding:0px;}/*!sc*/
.kWRbNP li{float:left;margin-right:12px;}/*!sc*/
.kWRbNP:after{content:'';display:table;clear:both;}/*!sc*/
data-styled.g7[id="sc-1qibjc6-0"]{content:"kWRbNP,"}/*!sc*/
.dlnNws{padding:0;list-style:none;}/*!sc*/
data-styled.g8[id="sc-1s8alk7-0"]{content:"dlnNws,"}/*!sc*/
.hFrgDo{line-height:1.5;}/*!sc*/
.hFrgDo h2,.hFrgDo h3{font-weight:normal;}/*!sc*/
.hFrgDo h2{font-size:2rem;margin-bottom:2rem;margin-top:3rem;}/*!sc*/
.hFrgDo h3{font-size:1.5rem;margin-bottom:2rem;margin-top:2.5rem;}/*!sc*/
.hFrgDo img{max-width:100%;}/*!sc*/
.hFrgDo a{-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
data-styled.g9[id="sc-15969c2-0"]{content:"hFrgDo,"}/*!sc*/
</style></head><body><div id="__next"><div><main><div class="sc-bdvvaa sc-gsDJrp sc-1oq80a-0 bKFgah jXLjZO lfQcyx"><h2 font-size="4,5,5" letter-spacing="tighter" class="sc-bdvvaa dMewZf"><a href="/"><div class="sc-bdvvaa sc-gsDJrp exIvsQ jXLjZO"><div class="sc-bdvvaa itMAzf"><img alt="Pager&#x27;s Universe" height="3rem,4rem" src="/logo.jpg" width="3rem,4rem" class="sc-bdvvaa iLjqJK"/></div><div font-size="3,5" class="sc-bdvvaa fLeyUi"><b>Pager&#x27;s Universe</b></div></div></a></h2><article class="sc-bdvvaa kftzhr"><div class="sc-bdvvaa sc-gsDJrp hKmdYz jXLjZO"><h1 font-size="6,7,8" letter-spacing="tighter" class="sc-bdvvaa jMGUvp">Flashbots</h1><div display="none,block,block" class="sc-bdvvaa kVIEZd"><div class="sc-bdvvaa sc-gsDJrp fcsecB jXLjZO"><div class="sc-bdvvaa itMAzf"><img alt="Pager" height="3rem" src="/assets/blog/authors/pager.png" width="3rem" class="sc-bdvvaa bbrtek"/></div><div font-size="3" class="sc-bdvvaa gFWHKt"><b>Pager</b></div></div></div><div class="sc-bdvvaa kqjcxc"><div class="sc-bdvvaa eEokYr"><div class="sc-bdvvaa bvkABS"><div class="sc-bdvvaa enuiBt"></div><img alt="Cover Image for Flashbots" height="0px" src="/assets/blog/flashbots/cover.jpg" width="0px" class="sc-bdvvaa elOQWX"/></div></div></div><div class="sc-bdvvaa itMAzf"><div display="block,none,none" class="sc-bdvvaa jbbtfg"><div class="sc-bdvvaa sc-gsDJrp fcsecB jXLjZO"><div class="sc-bdvvaa itMAzf"><img alt="Pager" height="3rem" src="/assets/blog/authors/pager.png" width="3rem" class="sc-bdvvaa bbrtek"/></div><div font-size="3" class="sc-bdvvaa gFWHKt"><b>Pager</b></div></div></div><div class="sc-bdvvaa itMAzf"><div class="sc-bdvvaa itMAzf"><time dateTime="2021-04-13T16:00:00.000Z" class="sc-bdvvaa itMAzf">April	13, 2021</time></div></div></div></div><div class="sc-bdvvaa sc-15969c2-0 itMAzf hFrgDo"><div class="sc-bdvvaa kqjcxc"><p>最近 gas fee 係低咗少少，可能因為係多咗項目去咗其他 chains 玩，仲有其中一個原因係 <a href="https://github.com/flashbots/pm#mev-roast-recordings">Flashbot</a> <a href="https://medium.com/flashbots/flashbots-transparency-report-march-2021-d3930b4b98a9"></a>，佢哋係由年頭開始活躍，一個針對 Miner Extractable Value（MEV）嘅研究組織，即是關心下礦工們挖礦時嘅可得利潤。雖 Flashbots MEV-geth 只針對大額交易費嘅套利行為，但令大家意識到交易機器人對以太坊生態嘅影響，再加上佢哋提倡資訊透明，將所得數據放到 <a href="https://explore.flashbots.net/">MEV explorer</a> 及每月發文報告進度及研究成果。</p>
<p><img src="/assets/blog/flashbots/flashbots_chart.png" alt="Flashbots"></p>
<p>喺三月報告中見到有 12 個礦池，超過約 58% 算力係透過礦工使用 Flastbots 而貢獻，Flastbots MEV-geth 係一個由 Flastbots forked 出嚟嘅<a href="https://github.com/flashbots/mev-geth">改良版 go-ethereum</a> ，優化咗最大化利潤模型，加入 Searcher Bot 概念搵出最優化區塊交易組合，而且要令整個挖礦過程都合遵守：冇需許可Permissionless、透明 Transparency、公平生態 Fair Ecosystem 等原則。佢哋成功除咗背後有實質理念，同時又照顧到礦工嘅利益，並唔一班左膠只為追求理想而打爛人地飯碗。</p>
<h2>咩係 MEV ？</h2>
<p>Miner Extractable Value（MEV），可以譯做：「礦工可得利潤」。</p>
<p>平時礦工要做嘅就係鬥快計數同將一個又一個交易砌入一個區塊度，之後推上鏈，而砌區塊係一門技術，為咗最大代每次嘅利潤，礦工會喺 mempool 搵出較高 gas fee 嘅交易，換言之礦工有權去控制交易串順序。有特權就有油水，有礦場仲會特意安裝三文治機械人軟件去夾人哋嘅交易套利，個軟件係由 一個叫 Ethermine 嘅礦場為針對 <a href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-1559.md">EIP1559</a> 方案對礦工帶嚟嘅利潤減少而開發；除咗操控交易串順序，插隊，仲可能有礦場會收受利益去 censor 某啲交易，呢啲都係其中一啲油水位，中間可以存在好多道德問題。</p>
<h2>咩係三文治攻擊（Sandwich Attacks）？</h2>
<p><img src="/assets/blog/flashbots/sandwich_attacks.png" alt="Sandwich Attacke"></p>
<p><a href="https://medium.com/coinmonks/demystify-the-dark-forest-on-ethereum-sandwich-attacks-5a3aec9fa33e">image source</a></p>
<p>每當喺 DEX 做幣對交易時，交易者都需要指定一個滑價比率（slippage)，因為交易過程中可能會有其他交易同時進行令幣價比原定交易價出現偏差，指定好可接受滑價比率可令交易者控制偏差喺一個範圍內。三文治攻擊就係針對呢個機制，喺每次發現有人交易一啲流動性不足或接受滑價比率交大嘅交易時就同時發出兩個惡意交易：</p>
<ol>
<li>先用一個比受害交易嘅 gas 略為高嘅交易，預先買入目標交易幣，因為 gas 較高，所以會被優先執行，呢個交易叫做「三文治上層」。</li>
<li>因為交易幣對喺交易所上出現單邊減少，會令幣價出現調整，只要價格喺滑價比率內，受害交易就會喺呢個時候執行。</li>
<li>最後尾隨一個 gas 略為低嘅惡意交易，將第一個交易買得嘅幣賣回到交易池中，呢個時候因為受害交易已經執行，價格回調到第一個惡意交易時水平，惡意交易從「上層」到「下層」中賺得價差。</li>
</ol>
<h2>挖礦民主化</h2>
<p>Flashbots 提倡更民主化及以更公開透明方式嚟挖礦，因為當大家只為求利益，好易會令算力過度集中喺某些礦場，咁會令整個 Ethereum 生態出現問題，危害所有人嘅利益，佢哋除咗令大家意識到挖礦呢個權力階級之中嘅問題，同時可以反思整個 Ethereum 或去中心化世界又係咪咁公平同透明。</p>
</div><ul class="sc-bdvvaa sc-gsDJrp sc-1s8alk7-0 jOZVJk jXLjZO dlnNws"><li font-size="1,2,2" width="auto" class="sc-bdvvaa hUwzQQ">defi</li><li font-size="1,2,2" width="auto" class="sc-bdvvaa hUwzQQ">flashbots</li><li font-size="1,2,2" width="auto" class="sc-bdvvaa hUwzQQ">crypto</li><li font-size="1,2,2" width="auto" class="sc-bdvvaa hUwzQQ">ethereum</li><li font-size="1,2,2" width="auto" class="sc-bdvvaa hUwzQQ">miner</li></ul></div></article></div></main></div><footer class="sc-bdvvaa kZtSQN"><div class="sc-bdvvaa sc-gsDJrp sc-1oq80a-0 bKFgah jXLjZO lfQcyx"><div class="sc-bdvvaa sc-gsDJrp dJxAso jXLjZO"><div width="1,0.5,0.5,0.6666666666666666" class="sc-bdvvaa dIgqbC"><h3 font-size="3,4" class="sc-bdvvaa ffJsvT">Blogging about Coding, Crypto, Banana Smoothies and Video Games.</h3><ul class="sc-1qibjc6-0 kWRbNP"><li><a href="https://0xtaipoian.github.io" target="_blank" class="sc-bdvvaa NWlvr"><a><svg viewBox="0 0 24 24" height="36px" width="36px" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="StyledIconBase-ea9ulj-0 cuLlVI"><path d="M8.465 11.293c1.133-1.133 3.109-1.133 4.242 0l.707.707 1.414-1.414-.707-.707c-.943-.944-2.199-1.465-3.535-1.465s-2.592.521-3.535 1.465L4.929 12a5.008 5.008 0 000 7.071 4.983 4.983 0 003.535 1.462A4.982 4.982 0 0012 19.071l.707-.707-1.414-1.414-.707.707a3.007 3.007 0 01-4.243 0 3.005 3.005 0 010-4.243l2.122-2.121z"></path><path d="M12 4.929l-.707.707 1.414 1.414.707-.707a3.007 3.007 0 014.243 0 3.005 3.005 0 010 4.243l-2.122 2.121c-1.133 1.133-3.109 1.133-4.242 0L10.586 12l-1.414 1.414.707.707c.943.944 2.199 1.465 3.535 1.465s2.592-.521 3.535-1.465L19.071 12a5.008 5.008 0 000-7.071 5.006 5.006 0 00-7.071 0z"></path></svg></a></a></li><li><a href="https://github.com/0xtaipoian" target="_blank" class="sc-bdvvaa NWlvr"><a><svg viewBox="0 0 24 24" height="36px" width="36px" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="StyledIconBase-ea9ulj-0 cuLlVI"><path fill-rule="evenodd" d="M12.026 2c-5.509 0-9.974 4.465-9.974 9.974 0 4.406 2.857 8.145 6.821 9.465.499.09.679-.217.679-.481 0-.237-.008-.865-.011-1.696-2.775.602-3.361-1.338-3.361-1.338-.452-1.152-1.107-1.459-1.107-1.459-.905-.619.069-.605.069-.605 1.002.07 1.527 1.028 1.527 1.028.89 1.524 2.336 1.084 2.902.829.091-.645.351-1.085.635-1.334-2.214-.251-4.542-1.107-4.542-4.93 0-1.087.389-1.979 1.024-2.675-.101-.253-.446-1.268.099-2.64 0 0 .837-.269 2.742 1.021a9.582 9.582 0 012.496-.336 9.554 9.554 0 012.496.336c1.906-1.291 2.742-1.021 2.742-1.021.545 1.372.203 2.387.099 2.64.64.696 1.024 1.587 1.024 2.675 0 3.833-2.33 4.675-4.552 4.922.355.308.675.916.675 1.846 0 1.334-.012 2.41-.012 2.737 0 .267.178.577.687.479C19.146 20.115 22 16.379 22 11.974 22 6.465 17.535 2 12.026 2z" clip-rule="evenodd"></path></svg></a></a></li><li><a href="https://twitter.com/0xtaipoian" target="_blank" class="sc-bdvvaa NWlvr"><a><svg viewBox="0 0 24 24" height="36px" width="36px" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="StyledIconBase-ea9ulj-0 cuLlVI"><path d="M19.633 7.997c.013.175.013.349.013.523 0 5.325-4.053 11.461-11.46 11.461-2.282 0-4.402-.661-6.186-1.809.324.037.636.05.973.05a8.07 8.07 0 005.001-1.721 4.036 4.036 0 01-3.767-2.793c.249.037.499.062.761.062.361 0 .724-.05 1.061-.137a4.027 4.027 0 01-3.23-3.953v-.05c.537.299 1.16.486 1.82.511a4.022 4.022 0 01-1.796-3.354c0-.748.199-1.434.548-2.032a11.457 11.457 0 008.306 4.215c-.062-.3-.1-.611-.1-.923a4.026 4.026 0 014.028-4.028c1.16 0 2.207.486 2.943 1.272a7.957 7.957 0 002.556-.973 4.02 4.02 0 01-1.771 2.22 8.073 8.073 0 002.319-.624 8.645 8.645 0 01-2.019 2.083z"></path></svg></a></a></li><li><a href="https://www.instagram.com/0xtaipoian/" class="sc-bdvvaa NWlvr"><a><svg viewBox="0 0 24 24" height="36px" width="36px" aria-hidden="true" focusable="false" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="StyledIconBase-ea9ulj-0 cuLlVI"><path d="M11.999 7.377a4.623 4.623 0 100 9.248 4.623 4.623 0 000-9.248zm0 7.627a3.004 3.004 0 110-6.008 3.004 3.004 0 010 6.008z"></path><circle cx="16.806" cy="7.207" r="1.078"></circle><path d="M20.533 6.111A4.605 4.605 0 0017.9 3.479a6.606 6.606 0 00-2.186-.42c-.963-.042-1.268-.054-3.71-.054s-2.755 0-3.71.054a6.554 6.554 0 00-2.184.42 4.6 4.6 0 00-2.633 2.632 6.585 6.585 0 00-.419 2.186c-.043.962-.056 1.267-.056 3.71 0 2.442 0 2.753.056 3.71.015.748.156 1.486.419 2.187a4.61 4.61 0 002.634 2.632 6.584 6.584 0 002.185.45c.963.042 1.268.055 3.71.055s2.755 0 3.71-.055a6.615 6.615 0 002.186-.419 4.613 4.613 0 002.633-2.633c.263-.7.404-1.438.419-2.186.043-.962.056-1.267.056-3.71s0-2.753-.056-3.71a6.581 6.581 0 00-.421-2.217zm-1.218 9.532a5.043 5.043 0 01-.311 1.688 2.987 2.987 0 01-1.712 1.711 4.985 4.985 0 01-1.67.311c-.95.044-1.218.055-3.654.055-2.438 0-2.687 0-3.655-.055a4.96 4.96 0 01-1.669-.311 2.985 2.985 0 01-1.719-1.711 5.08 5.08 0 01-.311-1.669c-.043-.95-.053-1.218-.053-3.654 0-2.437 0-2.686.053-3.655a5.038 5.038 0 01.311-1.687c.305-.789.93-1.41 1.719-1.712a5.01 5.01 0 011.669-.311c.951-.043 1.218-.055 3.655-.055s2.687 0 3.654.055a4.96 4.96 0 011.67.311 2.991 2.991 0 011.712 1.712 5.08 5.08 0 01.311 1.669c.043.951.054 1.218.054 3.655 0 2.436 0 2.698-.043 3.654h-.011z"></path></svg></a></a></li></ul></div><div width="1,0.5,0.5,0.3333333333333333" class="sc-bdvvaa boPTLD"><div><form action="https://github.us1.list-manage.com/subscribe/post?u=bc0d458fc5d2b0a9fde01cfad&amp;id=1222814d86" class="validate" id="mc-embedded-subscribe-form" method="post" name="mc-embedded-subscribe-form" novalidate="" target="_blank"><div class="sc-bdvvaa sc-gsDJrp bgYZas jXLjZO"><div width="calc(100% - 128px)" class="sc-bdvvaa ghjjju"><input type="email" class="sc-bdvvaa fBkHHd email" name="EMAIL" placeholder="email address" required="" value=""/></div><div aria-hidden="true" style="position:absolute;left:-5000px" class="sc-bdvvaa itMAzf"><input type="text" name="b_bc0d458fc5d2b0a9fde01cfad_1222814d86" class="sc-bdvvaa fBkHHd" value=""/></div><div width="128px" class="sc-bdvvaa gffpdb"><button height="38px" name="subscribe" type="submit" width="1" class="sc-bdvvaa gnbXid">Subscribe</button></div></div></form></div></div></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Flashbots","date":"2021-04-13T16:00:00.000Z","slug":"flashbots","author":{"name":"Pager","picture":"/assets/blog/authors/pager.png"},"tags":["defi","flashbots","crypto","ethereum","miner"],"content":"\u003cp\u003e最近 gas fee 係低咗少少，可能因為係多咗項目去咗其他 chains 玩，仲有其中一個原因係 \u003ca href=\"https://github.com/flashbots/pm#mev-roast-recordings\"\u003eFlashbot\u003c/a\u003e \u003ca href=\"https://medium.com/flashbots/flashbots-transparency-report-march-2021-d3930b4b98a9\"\u003e\u003c/a\u003e，佢哋係由年頭開始活躍，一個針對 Miner Extractable Value（MEV）嘅研究組織，即是關心下礦工們挖礦時嘅可得利潤。雖 Flashbots MEV-geth 只針對大額交易費嘅套利行為，但令大家意識到交易機器人對以太坊生態嘅影響，再加上佢哋提倡資訊透明，將所得數據放到 \u003ca href=\"https://explore.flashbots.net/\"\u003eMEV explorer\u003c/a\u003e 及每月發文報告進度及研究成果。\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/blog/flashbots/flashbots_chart.png\" alt=\"Flashbots\"\u003e\u003c/p\u003e\n\u003cp\u003e喺三月報告中見到有 12 個礦池，超過約 58% 算力係透過礦工使用 Flastbots 而貢獻，Flastbots MEV-geth 係一個由 Flastbots forked 出嚟嘅\u003ca href=\"https://github.com/flashbots/mev-geth\"\u003e改良版 go-ethereum\u003c/a\u003e ，優化咗最大化利潤模型，加入 Searcher Bot 概念搵出最優化區塊交易組合，而且要令整個挖礦過程都合遵守：冇需許可Permissionless、透明 Transparency、公平生態 Fair Ecosystem 等原則。佢哋成功除咗背後有實質理念，同時又照顧到礦工嘅利益，並唔一班左膠只為追求理想而打爛人地飯碗。\u003c/p\u003e\n\u003ch2\u003e咩係 MEV ？\u003c/h2\u003e\n\u003cp\u003eMiner Extractable Value（MEV），可以譯做：「礦工可得利潤」。\u003c/p\u003e\n\u003cp\u003e平時礦工要做嘅就係鬥快計數同將一個又一個交易砌入一個區塊度，之後推上鏈，而砌區塊係一門技術，為咗最大代每次嘅利潤，礦工會喺 mempool 搵出較高 gas fee 嘅交易，換言之礦工有權去控制交易串順序。有特權就有油水，有礦場仲會特意安裝三文治機械人軟件去夾人哋嘅交易套利，個軟件係由 一個叫 Ethermine 嘅礦場為針對 \u003ca href=\"https://github.com/ethereum/EIPs/blob/master/EIPS/eip-1559.md\"\u003eEIP1559\u003c/a\u003e 方案對礦工帶嚟嘅利潤減少而開發；除咗操控交易串順序，插隊，仲可能有礦場會收受利益去 censor 某啲交易，呢啲都係其中一啲油水位，中間可以存在好多道德問題。\u003c/p\u003e\n\u003ch2\u003e咩係三文治攻擊（Sandwich Attacks）？\u003c/h2\u003e\n\u003cp\u003e\u003cimg src=\"/assets/blog/flashbots/sandwich_attacks.png\" alt=\"Sandwich Attacke\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://medium.com/coinmonks/demystify-the-dark-forest-on-ethereum-sandwich-attacks-5a3aec9fa33e\"\u003eimage source\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e每當喺 DEX 做幣對交易時，交易者都需要指定一個滑價比率（slippage)，因為交易過程中可能會有其他交易同時進行令幣價比原定交易價出現偏差，指定好可接受滑價比率可令交易者控制偏差喺一個範圍內。三文治攻擊就係針對呢個機制，喺每次發現有人交易一啲流動性不足或接受滑價比率交大嘅交易時就同時發出兩個惡意交易：\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e先用一個比受害交易嘅 gas 略為高嘅交易，預先買入目標交易幣，因為 gas 較高，所以會被優先執行，呢個交易叫做「三文治上層」。\u003c/li\u003e\n\u003cli\u003e因為交易幣對喺交易所上出現單邊減少，會令幣價出現調整，只要價格喺滑價比率內，受害交易就會喺呢個時候執行。\u003c/li\u003e\n\u003cli\u003e最後尾隨一個 gas 略為低嘅惡意交易，將第一個交易買得嘅幣賣回到交易池中，呢個時候因為受害交易已經執行，價格回調到第一個惡意交易時水平，惡意交易從「上層」到「下層」中賺得價差。\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003e挖礦民主化\u003c/h2\u003e\n\u003cp\u003eFlashbots 提倡更民主化及以更公開透明方式嚟挖礦，因為當大家只為求利益，好易會令算力過度集中喺某些礦場，咁會令整個 Ethereum 生態出現問題，危害所有人嘅利益，佢哋除咗令大家意識到挖礦呢個權力階級之中嘅問題，同時可以反思整個 Ethereum 或去中心化世界又係咪咁公平同透明。\u003c/p\u003e\n","ogImage":{"url":"/assets/blog/flashbots/cover.jpg"},"coverImage":"/assets/blog/flashbots/cover.jpg"}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"flashbots"},"buildId":"J2bTQe55mHCKwEhUkDmPa","isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-8683bd742a84c1edd48c.js"></script><script src="/_next/static/chunks/webpack-3d326053310467f9a574.js" async=""></script><script src="/_next/static/chunks/framework-94705af3f56ccfd00c7a.js" async=""></script><script src="/_next/static/chunks/commons-7926473249f72b2d2cf7.js" async=""></script><script src="/_next/static/chunks/main-9d9b9d760c6e8f989bf0.js" async=""></script><script src="/_next/static/chunks/338-de0a2be82b2af832d734.js" async=""></script><script src="/_next/static/chunks/542-27d53b0c61d2050aeda9.js" async=""></script><script src="/_next/static/chunks/pages/_app-da950a91ffaa1b8ae64f.js" async=""></script><script src="/_next/static/chunks/72-bd07f77745489b9e1547.js" async=""></script><script src="/_next/static/chunks/709-56dce8f57f3b622b83f8.js" async=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-b120db3e4af8eb84f037.js" async=""></script><script src="/_next/static/J2bTQe55mHCKwEhUkDmPa/_buildManifest.js" async=""></script><script src="/_next/static/J2bTQe55mHCKwEhUkDmPa/_ssgManifest.js" async=""></script></body></html>